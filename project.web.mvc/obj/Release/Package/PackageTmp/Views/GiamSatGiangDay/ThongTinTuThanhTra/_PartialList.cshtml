@*
    Author:   			pdgiai
    Created: 			2016-1-4
    Last Modified: 		2016-1-4
*@

@model MvcPaging.IPagedList<nvngoc31122015.giamsatgiangday.library.GiamSatGiangDay.ListThongTinTuThanhTraView>
@using MvcPaging

@{var i = 1;}

<div class="table-responsive">
    @if (Model.TotalItemCount > 0)
    {
        <div class="p-b-10">
            Danh sách: <b>@Model.TotalItemCount</b> thời khóa biểu
        </div>
        <text>
            <table id="tablelist" class="table table-bordered datatables dataTable">
                <thead>
                    <tr>
                        @*<th class="text-center w-30">
                                <input id="CheckBoxAll" onclick="javascript: checkAlllist('#listcheckall',this);" type="checkbox" />
                            </th>*@
                        <th class="text-center w-30">
                            #
                        </th>
                        <th class="text-left w-100">
                            @Html.DisplayNameFor(model => Model[0].Loai)
                        </th>
                        <th class="text-left w-50">
                            @Html.DisplayNameFor(model => Model[0].LopName)
                        </th>
                        <th class="text-left w-150">
                            @Html.DisplayNameFor(model => Model[0].MonHocName)
                        </th>
                        <th class="text-center w-100">
                            Ngày
                        </th>
                        <th class="text-center w-50">
                            @Html.DisplayNameFor(model => Model[0].PhongID)
                        </th>
                        <th class="text-center w-30">
                            @Html.DisplayNameFor(model => Model[0].Thu)
                        </th>
                        <th class="text-center w-30">
                            @Html.DisplayNameFor(model => Model[0].CaID)
                        </th>

                        <th class="text-center w-100">
                            Học kỳ
                        </th>
                        @if (!User.IsInRole(project.config.library.Utilities.ConstantVariable.Value_AspNetRoles_GiamSatGiangDay_GiangVien))
                        {
                            <th class="text-left w-150">
                                @Html.DisplayNameFor(model => Model[0].GiangVien)
                            </th>
                        }


                    </tr>
                </thead>
                <tbody id="listcheckall">
                    @foreach (var item in Model)
                    {
                        <tr dataThoiKhoaBieu="@item.PhieuGuid" class="showhim">
                            @*<td class="text-center">
                                    <input type="checkbox" class="checkbox-item" value="@item.PhieuGuid" />
                                </td>*@
                            <td class="text-center">
                                @Html.Raw((Model.PageNumber - 1) * Model.PageSize + i)
                                @{i++;}
                            </td>
                            <td class="text-left">
                                @Html.Raw(item.Loai)
                            </td>
                            <td class="text-left">
                                @Html.Raw(item.LopName)
                            </td>
                            <td class="text-left">
                                <span data-role="hint" data-hint-position="right" data-hint-mode="2" data-hint="
                                <i class=' fa fa-credit-card'></i>&nbsp;<b>Mã môn</b>: @Html.Raw(item.MonHocID)
                                <br /><i class='fa fa-calendar'></i>&nbsp;&nbsp;<b>Tên môn</b>: @Html.Raw(item.MonHocName)">
                                <span>@Html.Raw(item.MonHocName)</span>
                            </span>

                            </td>
                            <td class="text-center">
                                @if (item.TuNgay != null)
                                {
                                    @Html.Raw(item.TuNgay.Value.ToString("dd/MM/yyyy"))
                                }

                            </td>
                            <td class="text-center">
                                <span data-role="hint" data-hint-position="right" data-hint-mode="2" data-hint="
                                <i class=' fa fa-credit-card'></i>&nbsp;<b>Phòng</b>: @Html.Raw(item.PhongID)
                                <br /><i class='fa fa-calendar'></i>&nbsp;&nbsp;<b>Lầu</b>: @Html.Raw(item.Lau)
                                <br /><i class='fa fa-building-o'></i>&nbsp;&nbsp;<b>Cơ sở</b>: @Html.Raw(item.CoSo)
                                ">
                                <span>@Html.Raw(item.PhongID)</span>
                            </span>
                            </td>
                            <td class="text-center">
                                @Html.Raw(item.Thu)
                            </td>
                            <td class="text-center">
                                @Html.Raw(item.CaID)
                            </td>
                            <td class="text-center">
                                HK @Html.Raw(item.HocKyID) - @Html.Raw(item.NamHocID)
                            </td>
                            @if (!User.IsInRole(project.config.library.Utilities.ConstantVariable.Value_AspNetRoles_GiamSatGiangDay_GiangVien))
                            {
                                <td class="text-left">
                                    <span data-role="hint" data-hint-position="left" data-hint-mode="2" data-hint="
                                <i class=' fa fa-credit-card'></i>&nbsp;<b>Mã GV</b>: @Html.Raw(item.GiangVien)
                                <br /><i class='fa fa-calendar'></i>&nbsp;&nbsp;<b>Tên GV</b>: @Html.Raw(item.TenGiangVien)
                                <br /><i class='fa fa-building-o'></i>&nbsp;&nbsp;<b>Đơn vị</b>: @Html.Raw(item.DonViName)
                                ">
                                <span>@Html.Raw(item.TenGiangVien)</span>
                            </span>
                                </td>
                            }




                        </tr>
                                    }
                </tbody>
            </table>
        </text>
                                    }
                                    else
                                    {
                                        <text><br />
    <div class="alert alert-dismissable alert-info">
        <strong>Yêu cầu tìm kiếm lúc @{ var date = DateTime.Now; } @date.ToString("HH:mm:ss dd/MM/yyyy") không có dữ liệu</strong>
        <button aria-hidden="true" data-dismiss="alert" class="close" type="button">×</button>
    </div>
                                        </text>
                                    }
    <div class="pager">
        @if (Model.TotalItemCount > Model.PageSize)
        {

            <text>

                @Html.Raw(Ajax.Pager(
                       new Options
                       {
                           PageSize = Model.PageSize,
                           TotalItemCount = Model.TotalItemCount,
                           CurrentPage = Model.PageNumber,
                           ItemTexts = new ItemTexts() { Next = "Next", Previous = "Previous", Page = "" },
                           ItemIcon = new ItemIcon() { First = "icon-backward", Previous = "icon-chevron-left", Next = "icon-chevron-right", Last = "icon-forward" },
                           TooltipTitles = new TooltipTitles() { Next = "Next page", Previous = "Previous page", Page = "Page {0}." },
                           Size = Size.normal,
                           Alignment = Alignment.centered,
                           IsShowControls = true,
                           IsShowFirstLast = true,
                           CssClass = ""
                       },
                       new AjaxOptions
                       {
                           UpdateTargetId = "GiamSatGiangDay_PhieuBaoBu_DS_content"
                       }, new
                       {
                           controller = "GiamSatGiangDay",
                           action = "PhieuBaoBuGet_List",
                           giangvien = @ViewData["giangvien"]
                               ,
                           idnv = @ViewData["idnv"]
                             ,
                           trangthai = @ViewData["trangthai"]
                               ,
                           donvi = @ViewData["donvi"]
                                ,
                           tungay = @ViewData["tungay"]
                                ,
                           denngay = @ViewData["denngay"]
                                ,
                           UserGuid = @ViewData["UserGuid"]
                           ,
                           namhoc = @ViewData["namhoc"]
                                ,
                           hocky = @ViewData["hocky"]
                       }))
            </text>
        }
    </div>
</div>
<style>
    #tablelist tr:hover {
        background-color: #e8e8ec;
    }
</style>
@using (Html.BeginScriptContext())
{
    Html.AddScriptBlock(
        @<script type="text/javascript">
            loadSelect("GiamSatGiangDay_ThoiKhoaBieu", "ThoiKhoaBieu");
            $('#tablelist tbody tr').hover(function () {
                $(this).addClass('hover');
            }, function () {
                $(this).removeClass('hover');
            });
        </script>
, true);
}



